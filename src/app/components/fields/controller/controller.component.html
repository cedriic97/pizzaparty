<app-field-help-panel [description]="section.description" [imgpath]="imagePath"></app-field-help-panel>

<div *ngFor="let field of fields" >
  <div *ngIf="field.type; else elseTemplate">
    <mat-card class="mat-elevation-z2" [formGroup]="formValues">
      <span [ngSwitch]="fieldType(field)">
        <p *ngSwitchCase="'user'">
          <app-field-dropdown [field]="field" [forminputs]="formValues" [formControlName]="field.type"></app-field-dropdown>
        </p>
        <p *ngSwitchCase="'text'">
          <app-field-text [field]="field" [forminputs]="formValues"></app-field-text>
        </p>
        <p *ngSwitchCase="'date'">
          <app-field-datepicker [field]="field" [formValues]="formValues"></app-field-datepicker>
        </p>
        <p *ngSwitchCase="'image'">
          <app-field-image [field]="field" [forminputs]="formValues" [formControlName]="field.type"></app-field-image>
        </p>
        <p *ngSwitchCase="'number'">
          <app-field-number [field]="field" [formValues]="formValues" [formControlName]="field.type"></app-field-number>
        </p>
        <p *ngSwitchCase="'selector'">
          <app-field-chip-selector [field]="field" [forminputs]="formValues" [formControlName]="field.type"></app-field-chip-selector>
        </p>
        <p *ngSwitchCase="'files'">
          <app-field-attachments [field]="field" [formValues]="formValues" [formControlName]="field.type"></app-field-attachments>
        </p>
        <p *ngSwitchDefault>
          <app-component-not-found [componentName]="field"></app-component-not-found>
        </p>
      </span>
    </mat-card>
  </div>

  <ng-template #elseTemplate>
    <app-component-not-found [componentName]="field"></app-component-not-found>
  </ng-template>
</div>
